# 查询密钥列表<a name="ListKeys"></a>

## 功能介绍<a name="section62511634174915"></a>

查询用户所有密钥列表。

## 调试<a name="section16252534134914"></a>

您可以在[API Explorer](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=KMS&api=ListKeys)中调试该接口。

## URI<a name="section1225413344495"></a>

POST /v1.0/\{project\_id\}/kms/list-keys

**表 1**  路径参数

<a name="table1026023414496"></a>
<table><thead align="left"><tr id="row1725843424919"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p1826163464916"><a name="p1826163464916"></a><a name="p1826163464916"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p10262153411491"><a name="p10262153411491"></a><a name="p10262153411491"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p12631734164916"><a name="p12631734164916"></a><a name="p12631734164916"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p122643347492"><a name="p122643347492"></a><a name="p122643347492"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row6258534154915"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p10266434174913"><a name="p10266434174913"></a><a name="p10266434174913"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1126773454920"><a name="p1126773454920"></a><a name="p1126773454920"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1126813444914"><a name="p1126813444914"></a><a name="p1126813444914"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p82683340495"><a name="p82683340495"></a><a name="p82683340495"></a>项目ID。</p>
</td>
</tr>
</tbody>
</table>

## 请求参数<a name="section726963404914"></a>

**表 2**  请求Header参数

<a name="HeaderParameter"></a>
<table><thead align="left"><tr id="row7271133410493"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p4274163411493"><a name="p4274163411493"></a><a name="p4274163411493"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p12275103411498"><a name="p12275103411498"></a><a name="p12275103411498"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p327619347490"><a name="p327619347490"></a><a name="p327619347490"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p112774343497"><a name="p112774343497"></a><a name="p112774343497"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row427103413498"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p10277183414915"><a name="p10277183414915"></a><a name="p10277183414915"></a>X-Auth-Token</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1227819343493"><a name="p1227819343493"></a><a name="p1227819343493"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p10279103464917"><a name="p10279103464917"></a><a name="p10279103464917"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p928083474911"><a name="p928083474911"></a><a name="p928083474911"></a>用户Token。 通过调用IAM服务获取用户Token接口获取（响应消息头中X-Subject-Token的值）。</p>
</td>
</tr>
</tbody>
</table>

**表 3**  请求Body参数

<a name="requestParameter"></a>
<table><thead align="left"><tr id="row0284143412493"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p82871334174912"><a name="p82871334174912"></a><a name="p82871334174912"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p6288734184919"><a name="p6288734184919"></a><a name="p6288734184919"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p628963454916"><a name="p628963454916"></a><a name="p628963454916"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p15291734124919"><a name="p15291734124919"></a><a name="p15291734124919"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row8284143416497"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1292173434910"><a name="p1292173434910"></a><a name="p1292173434910"></a>limit</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1629333417490"><a name="p1629333417490"></a><a name="p1629333417490"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p72930347494"><a name="p72930347494"></a><a name="p72930347494"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p192941434134915"><a name="p192941434134915"></a><a name="p192941434134915"></a>指定查询返回记录条数，如果指定查询记录条数小于存在的条数，响应参数“truncated”将返回“true”，表示存在分页。取值在密钥最大个数范围以内。例如：100</p>
</td>
</tr>
<tr id="row162842343496"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p5295143464919"><a name="p5295143464919"></a><a name="p5295143464919"></a>marker</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p18296134124911"><a name="p18296134124911"></a><a name="p18296134124911"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p18298103474911"><a name="p18298103474911"></a><a name="p18298103474911"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p18298734114917"><a name="p18298734114917"></a><a name="p18298734114917"></a>分页查询起始位置标识。分页查询收到的响应参数“truncated”为“true”时，可以发送连续的请求获取更多的记录条数，“marker”设置为响应的next_marker的值。例如：10</p>
</td>
</tr>
<tr id="row1328417345495"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p92998345490"><a name="p92998345490"></a><a name="p92998345490"></a>enterprise_project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p530013348495"><a name="p530013348495"></a><a name="p530013348495"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p73011134164911"><a name="p73011134164911"></a><a name="p73011134164911"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p63029347494"><a name="p63029347494"></a><a name="p63029347494"></a>企业多项目ID。</p>
<a name="ul193031534154914"></a><a name="ul193031534154914"></a><ul id="ul193031534154914"><li>用户未开通企业多项目时，不需要输入该字段。</li><li>用户开通企业多项目时，查询资源可以输入该字段。 若用户不输入该字段，默认查询租户所有有权限的企业多项目下的资源。此时“enterprise_project_id”取值为“all”。 若用户输入该字段，取值满足以下任一条件.</li><li>取值为“all”</li><li>取值为“0”</li><li>满足正则匹配：“^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$”</li></ul>
</td>
</tr>
<tr id="row18284734134910"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p530815341497"><a name="p530815341497"></a><a name="p530815341497"></a>key_state</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p130953414498"><a name="p130953414498"></a><a name="p130953414498"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1931018347491"><a name="p1931018347491"></a><a name="p1931018347491"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p173111734164913"><a name="p173111734164913"></a><a name="p173111734164913"></a>密钥状态，满足正则匹配“^[1-5]{1}$”，枚举如下：</p>
<a name="ul17312103410498"></a><a name="ul17312103410498"></a><ul id="ul17312103410498"><li>“1”表示待激活状态</li><li>“2”表示启用状态</li><li>“3”表示禁用状态</li><li>“4”表示计划删除状态</li><li>“5”表示等待导入状态</li></ul>
</td>
</tr>
<tr id="row10284153410493"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1631753413495"><a name="p1631753413495"></a><a name="p1631753413495"></a>key_spec</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p63189345492"><a name="p63189345492"></a><a name="p63189345492"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p731953415496"><a name="p731953415496"></a><a name="p731953415496"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p2320734174915"><a name="p2320734174915"></a><a name="p2320734174915"></a>密钥生成算法，默认为“AES_256”。查询所有（包含非对称）密钥需要指定参数“ALL”。</p>
<a name="ul432283484911"></a><a name="ul432283484911"></a><ul id="ul432283484911"><li>AES_256</li><li>SM4</li><li>RSA_2048</li><li>RSA_3072</li><li>RSA_4096</li><li>EC_P256</li><li>EC_P384</li><li>SM2</li><li>ALL</li></ul>
</td>
</tr>
<tr id="row1284163418498"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p123304346491"><a name="p123304346491"></a><a name="p123304346491"></a>sequence</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p23311234164920"><a name="p23311234164920"></a><a name="p23311234164920"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p33324340492"><a name="p33324340492"></a><a name="p33324340492"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1333834184915"><a name="p1333834184915"></a><a name="p1333834184915"></a>请求消息序列号，36字节序列号。 例如：919c82d4-8046-4722-9094-35c3c6524cff。</p>
</td>
</tr>
</tbody>
</table>

## 响应参数<a name="section933443404917"></a>

**状态码： 200**

**表 4**  响应Body参数

<a name="responseParameter"></a>
<table><thead align="left"><tr id="row1133613415493"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p333873474919"><a name="p333873474919"></a><a name="p333873474919"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p1333983484911"><a name="p1333983484911"></a><a name="p1333983484911"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p17340143444915"><a name="p17340143444915"></a><a name="p17340143444915"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1933610340495"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1341734134917"><a name="p1341734134917"></a><a name="p1341734134917"></a>keys</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p18342234174914"><a name="p18342234174914"></a><a name="p18342234174914"></a>Array of strings</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p434333484916"><a name="p434333484916"></a><a name="p434333484916"></a>key_id列表。</p>
</td>
</tr>
<tr id="row17336163474912"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p134413494919"><a name="p134413494919"></a><a name="p134413494919"></a>key_details</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p17345153494912"><a name="p17345153494912"></a><a name="p17345153494912"></a>Array of <a href="#response_KeyDetails">KeyDetails</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1534523444917"><a name="p1534523444917"></a><a name="p1534523444917"></a>密钥详情列表。</p>
</td>
</tr>
<tr id="row93361834184913"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1434683424911"><a name="p1434683424911"></a><a name="p1434683424911"></a>next_marker</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1734773444918"><a name="p1734773444918"></a><a name="p1734773444918"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1334715348495"><a name="p1334715348495"></a><a name="p1334715348495"></a>获取下一页所需要传递的“marker”值。当“truncated”为“false”时，“next_marker”为空。</p>
</td>
</tr>
<tr id="row433633419493"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p63481434104913"><a name="p63481434104913"></a><a name="p63481434104913"></a>truncated</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p53492349494"><a name="p53492349494"></a><a name="p53492349494"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p19350734134912"><a name="p19350734134912"></a><a name="p19350734134912"></a>是否还有下一页：</p>
<a name="ul33515345495"></a><a name="ul33515345495"></a><ul id="ul33515345495"><li>“true”表示还有数据。</li><li>“false”表示已经是最后一页。</li></ul>
</td>
</tr>
<tr id="row733663414912"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p113521134204916"><a name="p113521134204916"></a><a name="p113521134204916"></a>total</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p3353143414493"><a name="p3353143414493"></a><a name="p3353143414493"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p13354834154917"><a name="p13354834154917"></a><a name="p13354834154917"></a>密钥总条数。</p>
</td>
</tr>
</tbody>
</table>

**表 5**  KeyDetails

<a name="response_KeyDetails"></a>
<table><thead align="left"><tr id="row1135603434918"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p53597342498"><a name="p53597342498"></a><a name="p53597342498"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p1136013344495"><a name="p1136013344495"></a><a name="p1136013344495"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p536133454910"><a name="p536133454910"></a><a name="p536133454910"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row735613494917"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1362113417498"><a name="p1362113417498"></a><a name="p1362113417498"></a>key_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p15363134194918"><a name="p15363134194918"></a><a name="p15363134194918"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p936420349499"><a name="p936420349499"></a><a name="p936420349499"></a>密钥ID。</p>
</td>
</tr>
<tr id="row123568348498"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p9364193484918"><a name="p9364193484918"></a><a name="p9364193484918"></a>domain_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p123651134164913"><a name="p123651134164913"></a><a name="p123651134164913"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1936619342495"><a name="p1936619342495"></a><a name="p1936619342495"></a>用户域ID。</p>
</td>
</tr>
<tr id="row4356143410497"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p336773404910"><a name="p336773404910"></a><a name="p336773404910"></a>key_alias</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p18368133413492"><a name="p18368133413492"></a><a name="p18368133413492"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p113691834134918"><a name="p113691834134918"></a><a name="p113691834134918"></a>密钥别名。</p>
</td>
</tr>
<tr id="row73561134134918"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p7370434144912"><a name="p7370434144912"></a><a name="p7370434144912"></a>realm</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p93719344497"><a name="p93719344497"></a><a name="p93719344497"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p7371133419491"><a name="p7371133419491"></a><a name="p7371133419491"></a>密钥区域。</p>
</td>
</tr>
<tr id="row143561834104916"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p237211341495"><a name="p237211341495"></a><a name="p237211341495"></a>key_spec</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1937363412494"><a name="p1937363412494"></a><a name="p1937363412494"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p63731534194917"><a name="p63731534194917"></a><a name="p63731534194917"></a>密钥生成算法。</p>
<a name="ul937517344493"></a><a name="ul937517344493"></a><ul id="ul937517344493"><li>AES_256</li><li>SM4</li><li>RSA_2048</li><li>RSA_3072</li><li>RSA_4096</li><li>EC_P256</li><li>EC_P384</li><li>SM2</li></ul>
</td>
</tr>
<tr id="row4356133413494"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p838110346494"><a name="p838110346494"></a><a name="p838110346494"></a>key_usage</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p9382173413494"><a name="p9382173413494"></a><a name="p9382173413494"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p838317349495"><a name="p838317349495"></a><a name="p838317349495"></a>密钥用途。</p>
<a name="ul10384123464913"></a><a name="ul10384123464913"></a><ul id="ul10384123464913"><li>ENCRYPT_DECRYPT</li><li>SIGN_VERIFY</li></ul>
</td>
</tr>
<tr id="row14356234204912"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p73861341491"><a name="p73861341491"></a><a name="p73861341491"></a>key_description</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p16387534164913"><a name="p16387534164913"></a><a name="p16387534164913"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p173888348498"><a name="p173888348498"></a><a name="p173888348498"></a>密钥描述。</p>
</td>
</tr>
<tr id="row1235617341496"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p13889342496"><a name="p13889342496"></a><a name="p13889342496"></a>creation_date</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p838913424919"><a name="p838913424919"></a><a name="p838913424919"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p6390153474920"><a name="p6390153474920"></a><a name="p6390153474920"></a>密钥创建时间，时间戳，即从1970年1月1日至该时间的总秒数。</p>
</td>
</tr>
<tr id="row235614342491"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1139116349497"><a name="p1139116349497"></a><a name="p1139116349497"></a>scheduled_deletion_date</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p539113412497"><a name="p539113412497"></a><a name="p539113412497"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p2039203417490"><a name="p2039203417490"></a><a name="p2039203417490"></a>密钥计划删除时间，时间戳，即从1970年1月1日至该时间的总秒数。</p>
</td>
</tr>
<tr id="row1635614348492"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p163937349499"><a name="p163937349499"></a><a name="p163937349499"></a>key_state</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p639403417496"><a name="p639403417496"></a><a name="p639403417496"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p16395103494914"><a name="p16395103494914"></a><a name="p16395103494914"></a>密钥状态，满足正则匹配“^[1-5]{1}$”，枚举如下：</p>
<a name="ul1739613411496"></a><a name="ul1739613411496"></a><ul id="ul1739613411496"><li>“1”表示待激活状态</li><li>“2”表示启用状态</li><li>“3”表示禁用状态</li><li>“4”表示计划删除状态</li><li>“5”表示等待导入状态</li></ul>
</td>
</tr>
<tr id="row835619342499"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p6400434124913"><a name="p6400434124913"></a><a name="p6400434124913"></a>default_key_flag</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p240173419495"><a name="p240173419495"></a><a name="p240173419495"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1402153420494"><a name="p1402153420494"></a><a name="p1402153420494"></a>默认主密钥标识，默认主密钥标识为1，非默认标识为0。</p>
</td>
</tr>
<tr id="row10356534154914"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1040383415491"><a name="p1040383415491"></a><a name="p1040383415491"></a>key_type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p24031634134910"><a name="p24031634134910"></a><a name="p24031634134910"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p17405123444912"><a name="p17405123444912"></a><a name="p17405123444912"></a>密钥类型。</p>
</td>
</tr>
<tr id="row133562034144910"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p10406123419491"><a name="p10406123419491"></a><a name="p10406123419491"></a>expiration_time</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p18407203434919"><a name="p18407203434919"></a><a name="p18407203434919"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p10407163484917"><a name="p10407163484917"></a><a name="p10407163484917"></a>密钥材料失效时间，时间戳，即从1970年1月1日至该时间的总秒数。</p>
</td>
</tr>
<tr id="row19357153434914"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1340910347492"><a name="p1340910347492"></a><a name="p1340910347492"></a>origin</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p154101934114912"><a name="p154101934114912"></a><a name="p154101934114912"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p17410183414499"><a name="p17410183414499"></a><a name="p17410183414499"></a>密钥来源，默认为“kms”，枚举如下：</p>
<a name="ul241163415491"></a><a name="ul241163415491"></a><ul id="ul241163415491"><li>kms表示密钥材料由kms生成</li><li>external表示密钥材料由外部导入</li></ul>
</td>
</tr>
<tr id="row13571634144914"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p841353464917"><a name="p841353464917"></a><a name="p841353464917"></a>key_rotation_enabled</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p4417934114917"><a name="p4417934114917"></a><a name="p4417934114917"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p10418143434917"><a name="p10418143434917"></a><a name="p10418143434917"></a>密钥轮换状态，默认为“false”，表示关闭密钥轮换功能。</p>
</td>
</tr>
<tr id="row1635753454915"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p11419153454910"><a name="p11419153454910"></a><a name="p11419153454910"></a>sys_enterprise_project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p11419934174913"><a name="p11419934174913"></a><a name="p11419934174913"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p12420334104920"><a name="p12420334104920"></a><a name="p12420334104920"></a>企业项目ID，默认为“0”。</p>
<a name="ul19421334184913"></a><a name="ul19421334184913"></a><ul id="ul19421334184913"><li>对于开通企业项目的用户，表示资源处于默认企业项目下。</li><li>对于未开通企业项目的用户，表示资源未处于企业项目下。</li></ul>
</td>
</tr>
</tbody>
</table>

**状态码： 400**

**表 6**  响应Body参数

<a name="table13424734154912"></a>
<table><thead align="left"><tr id="row8424103494910"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p7427534144910"><a name="p7427534144910"></a><a name="p7427534144910"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p12428153414492"><a name="p12428153414492"></a><a name="p12428153414492"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p1142983410496"><a name="p1142983410496"></a><a name="p1142983410496"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1842463484911"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p8430173417498"><a name="p8430173417498"></a><a name="p8430173417498"></a>error</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p17431153419499"><a name="p17431153419499"></a><a name="p17431153419499"></a>Object</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p843113416492"><a name="p843113416492"></a><a name="p843113416492"></a>错误信息返回体。</p>
</td>
</tr>
</tbody>
</table>

**表 7**  ErrorDetail

<a name="response_ErrorDetail"></a>
<table><thead align="left"><tr id="row154327343493"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p743410343497"><a name="p743410343497"></a><a name="p743410343497"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p19435143444914"><a name="p19435143444914"></a><a name="p19435143444914"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p44361634104911"><a name="p44361634104911"></a><a name="p44361634104911"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row4432133464917"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1343714342496"><a name="p1343714342496"></a><a name="p1343714342496"></a>error_code</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p54381534144918"><a name="p54381534144918"></a><a name="p54381534144918"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1643933415496"><a name="p1643933415496"></a><a name="p1643933415496"></a>错误请求返回的错误码。</p>
</td>
</tr>
<tr id="row15433934174918"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p6440183416498"><a name="p6440183416498"></a><a name="p6440183416498"></a>error_msg</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1440113484911"><a name="p1440113484911"></a><a name="p1440113484911"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p444113344495"><a name="p444113344495"></a><a name="p444113344495"></a>错误请求返回的错误信息。</p>
</td>
</tr>
</tbody>
</table>

**状态码： 403**

**表 8**  响应Body参数

<a name="table1444218348491"></a>
<table><thead align="left"><tr id="row11442163444915"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p2444103414916"><a name="p2444103414916"></a><a name="p2444103414916"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p7445133494918"><a name="p7445133494918"></a><a name="p7445133494918"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p1044693404913"><a name="p1044693404913"></a><a name="p1044693404913"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1144313424919"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p2044713415490"><a name="p2044713415490"></a><a name="p2044713415490"></a>error</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p297210344497"><a name="p297210344497"></a><a name="p297210344497"></a>Object</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p18972123419496"><a name="p18972123419496"></a><a name="p18972123419496"></a>错误信息返回体。</p>
</td>
</tr>
</tbody>
</table>

**表 9**  ErrorDetail

<a name="table14497348492"></a>
<table><thead align="left"><tr id="row174491234144915"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p1997217342492"><a name="p1997217342492"></a><a name="p1997217342492"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p69731434134918"><a name="p69731434134918"></a><a name="p69731434134918"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p6973234144913"><a name="p6973234144913"></a><a name="p6973234144913"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row745083414918"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p10973153414492"><a name="p10973153414492"></a><a name="p10973153414492"></a>error_code</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1297373415491"><a name="p1297373415491"></a><a name="p1297373415491"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p897317343494"><a name="p897317343494"></a><a name="p897317343494"></a>错误请求返回的错误码。</p>
</td>
</tr>
<tr id="row245013347495"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p16973193434918"><a name="p16973193434918"></a><a name="p16973193434918"></a>error_msg</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p4973234124919"><a name="p4973234124919"></a><a name="p4973234124919"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1697383410499"><a name="p1697383410499"></a><a name="p1697383410499"></a>错误请求返回的错误信息。</p>
</td>
</tr>
</tbody>
</table>

## 请求示例<a name="section6973153464919"></a>

```
{
  "limit" : "2",
  "marker" : "1"
}
```

## 响应示例<a name="section297433419492"></a>

**状态码： 200**

请求已成功。

```
{
  "keys" : [ "0d0466b0-e727-4d9c-b35d-f84bb474a37f", "2e258389-bb1e-4568-a1d5-e1f50adf70ea" ],
  "key_details" : [ {
    "key_id" : "0d0466b0-e727-4d9c-b35d-f84bb474a37f",
    "domain_id" : "00074811d5c27c4f8d48bb91e4a1dcfd",
    "key_alias" : "test",
    "realm" : "cn-north-7",
    "key_description" : "key_description",
    "creation_date" : "1502799822000",
    "scheduled_deletion_date" : "",
    "key_spec" : "AES_256",
    "key_usage" : "ENCRYPT_DECRYPT",
    "key_state" : "2",
    "default_key_flag" : "0",
    "key_type" : "1",
    "expiration_time" : "1501578672000",
    "origin" : "kms",
    "key_rotation_enabled" : "true",
    "sys_enterprise_project_id" : "0",
    "partition_type" : "1"
  }, {
    "key_id" : "2e258389-bb1e-4568-a1d5-e1f50adf70ea",
    "domain_id" : "00074811d5c27c4f8d48bb91e4a1dcfd",
    "key_alias" : "test",
    "realm" : "realm",
    "key_description" : "key_description",
    "creation_date" : "1502799822000",
    "scheduled_deletion_date" : "",
    "key_spec" : "AES_256",
    "key_usage" : "ENCRYPT_DECRYPT",
    "key_state" : "2",
    "default_key_flag" : "0",
    "key_type" : "1",
    "expiration_time" : "1501578672000",
    "origin" : "kms",
    "key_rotation_enabled" : "true",
    "sys_enterprise_project_id" : "0",
    "partition_type" : "1"
  } ],
  "next_marker" : "",
  "truncated" : "false",
  "total" : "2"
}
```

**状态码： 400**

请求参数有误。

```
{
  "error" : {
    "error_code" : "KMS.XXX",
    "error_msg" : "XXX"
  }
}
```

**状态码： 403**

认证失败。

```
{
  "error" : {
    "error_code" : "KMS.XXX",
    "error_msg" : "XXX"
  }
}
```

## 状态码<a name="section297817341495"></a>

<a name="status_code"></a>
<table><thead align="left"><tr id="row64907342499"><th class="cellrowborder" valign="top" width="15%" id="mcps1.1.3.1.1"><p id="p1997853420496"><a name="p1997853420496"></a><a name="p1997853420496"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="85%" id="mcps1.1.3.1.2"><p id="p199786346490"><a name="p199786346490"></a><a name="p199786346490"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1649011343496"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p8978173418493"><a name="p8978173418493"></a><a name="p8978173418493"></a>200</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p13978183418499"><a name="p13978183418499"></a><a name="p13978183418499"></a>请求已成功。</p>
</td>
</tr>
<tr id="row104901934124913"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p13978143413497"><a name="p13978143413497"></a><a name="p13978143413497"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p179781834134914"><a name="p179781834134914"></a><a name="p179781834134914"></a>请求参数有误。</p>
</td>
</tr>
<tr id="row94901434154912"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p11978173464912"><a name="p11978173464912"></a><a name="p11978173464912"></a>403</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p1197913342495"><a name="p1197913342495"></a><a name="p1197913342495"></a>认证失败。</p>
</td>
</tr>
</tbody>
</table>

## 错误码<a name="section13979034194910"></a>

请参见[错误码](错误码.md)。

