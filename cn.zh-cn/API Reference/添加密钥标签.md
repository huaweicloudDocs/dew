# 添加密钥标签<a name="dew_02_0046"></a>

## 功能介绍<a name="section912191015404"></a>

添加密钥标签。

## URI<a name="section19957618204018"></a>

-   URI格式

    POST /v1.0/\{project\_id\}/kms/\{key\_id\}/tags

-   参数说明

    <a name="table17974014153316"></a>
    <table><thead align="left"><tr id="row3976714153316"><th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.1"><p id="p173876524112"><a name="p173876524112"></a><a name="p173876524112"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.2"><p id="p1938714516411"><a name="p1938714516411"></a><a name="p1938714516411"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.3"><p id="p262845744110"><a name="p262845744110"></a><a name="p262845744110"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.4"><p id="p11389195204114"><a name="p11389195204114"></a><a name="p11389195204114"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row29761214103314"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.1 "><p id="p338945184111"><a name="p338945184111"></a><a name="p338945184111"></a>project_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.2 "><p id="p9389755413"><a name="p9389755413"></a><a name="p9389755413"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.3 "><p id="p917437134211"><a name="p917437134211"></a><a name="p917437134211"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.4 "><p id="p103893514112"><a name="p103893514112"></a><a name="p103893514112"></a>项目ID。</p>
    </td>
    </tr>
    <tr id="row997631410332"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.1 "><p id="p33891452417"><a name="p33891452417"></a><a name="p33891452417"></a>key_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.2 "><p id="p17389175114120"><a name="p17389175114120"></a><a name="p17389175114120"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.3 "><p id="p20443118194218"><a name="p20443118194218"></a><a name="p20443118194218"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.4 "><p id="p1838925194110"><a name="p1838925194110"></a><a name="p1838925194110"></a>密钥ID，36字节，满足正则匹配<span class="parmvalue" id="parmvalue18605141612419"><a name="parmvalue18605141612419"></a><a name="parmvalue18605141612419"></a>“^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$”</span>。</p>
    <p id="p1138935114119"><a name="p1138935114119"></a><a name="p1138935114119"></a>例如：0d0466b0-e727-4d9c-b35d-f84bb474a37f</p>
    </td>
    </tr>
    </tbody>
    </table>


## 请求消息<a name="section141071427144114"></a>

-   请求参数

    <a name="table11568102202317"></a>
    <table><thead align="left"><tr id="row6568162292317"><th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.1"><p id="p1956662252311"><a name="p1956662252311"></a><a name="p1956662252311"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.2"><p id="p18568102212236"><a name="p18568102212236"></a><a name="p18568102212236"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.3"><p id="p1295638152312"><a name="p1295638152312"></a><a name="p1295638152312"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.4"><p id="p656882232310"><a name="p656882232310"></a><a name="p656882232310"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row45681622122314"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.1 "><p id="p1056892252318"><a name="p1056892252318"></a><a name="p1056892252318"></a>tag</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.2 "><p id="p556842222317"><a name="p556842222317"></a><a name="p556842222317"></a>resource_tag</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.3 "><p id="p192971138172319"><a name="p192971138172319"></a><a name="p192971138172319"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.4 "><p id="p156862211236"><a name="p156862211236"></a><a name="p156862211236"></a>包含标签。</p>
    </td>
    </tr>
    <tr id="row656473162623"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.1 "><p id="p2243639162757"><a name="p2243639162757"></a><a name="p2243639162757"></a>sequence</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.2 "><p id="p47517094162757"><a name="p47517094162757"></a><a name="p47517094162757"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.3 "><p id="p23679401162757"><a name="p23679401162757"></a><a name="p23679401162757"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.4 "><p id="p38983337162757"><a name="p38983337162757"></a><a name="p38983337162757"></a>请求消息序列号，36字节序列号。</p>
    <p id="p15305715162757"><a name="p15305715162757"></a><a name="p15305715162757"></a>例如：919c82d4-8046-4722-9094-35c3c6524cff</p>
    </td>
    </tr>
    </tbody>
    </table>

-   resource\_tag字段数据结构说明

    <a name="table1756962210239"></a>
    <table><thead align="left"><tr id="row16568132272312"><th class="cellrowborder" valign="top" width="25%" id="mcps1.1.5.1.1"><p id="p1756820222233"><a name="p1756820222233"></a><a name="p1756820222233"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15%" id="mcps1.1.5.1.2"><p id="p8568142252315"><a name="p8568142252315"></a><a name="p8568142252315"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="21%" id="mcps1.1.5.1.3"><p id="p135681422112319"><a name="p135681422112319"></a><a name="p135681422112319"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="39%" id="mcps1.1.5.1.4"><p id="p556842262315"><a name="p556842262315"></a><a name="p556842262315"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row135691122122311"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.1 "><p id="p1256819224230"><a name="p1256819224230"></a><a name="p1256819224230"></a>key</p>
    </td>
    <td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.5.1.2 "><p id="p11568162211239"><a name="p11568162211239"></a><a name="p11568162211239"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="21%" headers="mcps1.1.5.1.3 "><p id="p2568322122312"><a name="p2568322122312"></a><a name="p2568322122312"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="39%" headers="mcps1.1.5.1.4 "><p id="p15568922122310"><a name="p15568922122310"></a><a name="p15568922122310"></a>键。最大长度36个unicode字符。 key不能为空。不能包含非打印字符<span class="parmvalue" id="parmvalue11568102232320"><a name="parmvalue11568102232320"></a><a name="parmvalue11568102232320"></a>“ASCII(0-31)”</span>、<span class="parmvalue" id="parmvalue056852212231"><a name="parmvalue056852212231"></a><a name="parmvalue056852212231"></a>“*”</span>、<span class="parmvalue" id="parmvalue15681622202311"><a name="parmvalue15681622202311"></a><a name="parmvalue15681622202311"></a>“&lt;”</span>、<span class="parmvalue" id="parmvalue155688222231"><a name="parmvalue155688222231"></a><a name="parmvalue155688222231"></a>“&gt;”</span>、<span class="parmvalue" id="parmvalue95681322182319"><a name="parmvalue95681322182319"></a><a name="parmvalue95681322182319"></a>“\”</span>、<span class="parmvalue" id="parmvalue1256816222234"><a name="parmvalue1256816222234"></a><a name="parmvalue1256816222234"></a>“=”</span>。</p>
    </td>
    </tr>
    <tr id="row0569112232318"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.1.5.1.1 "><p id="p15569522202313"><a name="p15569522202313"></a><a name="p15569522202313"></a>value</p>
    </td>
    <td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.5.1.2 "><p id="p11569152216230"><a name="p11569152216230"></a><a name="p11569152216230"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="21%" headers="mcps1.1.5.1.3 "><p id="p13569122214230"><a name="p13569122214230"></a><a name="p13569122214230"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="39%" headers="mcps1.1.5.1.4 "><p id="p1056942262319"><a name="p1056942262319"></a><a name="p1056942262319"></a>值。每个值最大长度43个unicode字符，可以为空字符串。 不能包含非打印字符<span class="parmvalue" id="parmvalue1056972202319"><a name="parmvalue1056972202319"></a><a name="parmvalue1056972202319"></a>“ASCII(0-31)”</span>、<span class="parmvalue" id="parmvalue19569522152312"><a name="parmvalue19569522152312"></a><a name="parmvalue19569522152312"></a>“*”</span>、<span class="parmvalue" id="parmvalue6569102219232"><a name="parmvalue6569102219232"></a><a name="parmvalue6569102219232"></a>“&lt;”</span>、<span class="parmvalue" id="parmvalue14569202282314"><a name="parmvalue14569202282314"></a><a name="parmvalue14569202282314"></a>“&gt;”</span>、<span class="parmvalue" id="parmvalue2569182232313"><a name="parmvalue2569182232313"></a><a name="parmvalue2569182232313"></a>“\”</span>、<span class="parmvalue" id="parmvalue1656914229234"><a name="parmvalue1656914229234"></a><a name="parmvalue1656914229234"></a>“=”</span>。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 响应消息<a name="section85549592421"></a>

响应参数

无

## 示例<a name="section166631211114317"></a>

如下以添加标签键为“DEV“，标签值为“DEV1“为例。

-   请求样例

    ```
    {   
      "tag":
         {  
            "key":"DEV",
            "value":"DEV1"
         }
    }
    ```

-   响应样例

    ```
    { 
    }
    ```

    或

    ```
    {    
           "error": {        
                  "error_code": "KMS.XXXX",        
                  "error_msg": "XXX"     
         } 
    }
    ```


## 状态码<a name="section192111133389"></a>

[表1](#dew_02_0045_table3885195311010)描述的是API返回的正常状态码。

**表 1**  状态码

<a name="dew_02_0045_table3885195311010"></a>
<table><thead align="left"><tr id="dew_02_0045_row08858533011"><th class="cellrowborder" valign="top" width="22%" id="mcps1.2.4.1.1"><p id="dew_02_0045_p18885105310016"><a name="dew_02_0045_p18885105310016"></a><a name="dew_02_0045_p18885105310016"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="32%" id="mcps1.2.4.1.2"><p id="dew_02_0045_p488513536011"><a name="dew_02_0045_p488513536011"></a><a name="dew_02_0045_p488513536011"></a>编码</p>
</th>
<th class="cellrowborder" valign="top" width="46%" id="mcps1.2.4.1.3"><p id="dew_02_0045_p188852531708"><a name="dew_02_0045_p188852531708"></a><a name="dew_02_0045_p188852531708"></a>状态说明</p>
</th>
</tr>
</thead>
<tbody><tr id="dew_02_0045_row6885125316018"><td class="cellrowborder" valign="top" width="22%" headers="mcps1.2.4.1.1 "><p id="dew_02_0045_p188851853102"><a name="dew_02_0045_p188851853102"></a><a name="dew_02_0045_p188851853102"></a>204</p>
</td>
<td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.4.1.2 "><p id="dew_02_0045_p2123920113816"><a name="dew_02_0045_p2123920113816"></a><a name="dew_02_0045_p2123920113816"></a>No Content</p>
</td>
<td class="cellrowborder" valign="top" width="46%" headers="mcps1.2.4.1.3 "><p id="dew_02_0045_p151239205384"><a name="dew_02_0045_p151239205384"></a><a name="dew_02_0045_p151239205384"></a>请求已成功，无内容返回。</p>
</td>
</tr>
</tbody>
</table>

异常状态码，请参见[状态码](状态码.md)。

